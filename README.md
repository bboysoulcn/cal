# æ—¥å†è®¢é˜…æœåŠ¡ Calendar Subscription Service

ä¸€ä¸ªåŠŸèƒ½ä¸°å¯Œçš„æ—¥å†è®¢é˜…æœåŠ¡ï¼Œæä¾›å¤©æ°”é¢„æŠ¥ã€èŠ‚å‡æ—¥ã€æé†’ç­‰å¤šç§æ—¥å†ç±»å‹ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
cal/
â”œâ”€â”€ generate.py              # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€ config/                  # é…ç½®æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cities.py           # åŸå¸‚é…ç½®
â”‚   â”œâ”€â”€ holidays.py         # èŠ‚æ—¥æ•°æ®
â”‚   â””â”€â”€ settings.py         # å…¨å±€è®¾ç½®
â”œâ”€â”€ generators/              # ç”Ÿæˆå™¨æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ weather.py          # å¤©æ°”æ—¥å†ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ holidays.py         # èŠ‚æ—¥æ—¥å†ç”Ÿæˆå™¨
â”‚   â””â”€â”€ reminders.py        # æé†’æ—¥å†ç”Ÿæˆå™¨
â”œâ”€â”€ utils/                   # å·¥å…·æ¨¡å—
â”‚   â”œâ”€â”€ __init__.py
â”‚   â””â”€â”€ calendar_helper.py  # æ—¥å†è¾…åŠ©å·¥å…·
â”œâ”€â”€ static/ics/             # ç”Ÿæˆçš„ICSæ–‡ä»¶
â””â”€â”€ index.html              # å‰ç«¯é¡µé¢
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å®‰è£…ä¾èµ–

```bash
pip install -r requirements.txt
```

### ç”Ÿæˆæ‰€æœ‰æ—¥å†

```bash
python3 generate.py
```

### ç”Ÿæˆç‰¹å®šç±»å‹çš„æ—¥å†

```bash
# åªç”Ÿæˆå¤©æ°”æ—¥å†
python3 generate.py --type weather

# åªç”ŸæˆèŠ‚æ—¥æ—¥å†
python3 generate.py --type holidays

# åªç”Ÿæˆæé†’æ—¥å†
python3 generate.py --type reminders

# ç”ŸæˆæŒ‡å®šåŸå¸‚çš„å¤©æ°”æ—¥å†
python3 generate.py --type weather --cities Beijing Shanghai
```

### æŸ¥çœ‹å¸®åŠ©

```bash
python3 generate.py --help
```

## ğŸ“… æ”¯æŒçš„æ—¥å†ç±»å‹

### å¤©æ°”æ—¥å† (8ä¸ªåŸå¸‚)
- åŒ—äº¬ã€ä¸Šæµ·ã€å¹¿å·ã€æ·±åœ³
- æ­å·ã€å®æ³¢ã€æˆéƒ½ã€æ­¦æ±‰
- 7å¤©å¤©æ°”é¢„æŠ¥ï¼Œæ¯å¤©è‡ªåŠ¨æ›´æ–°

### èŠ‚æ—¥æ—¥å†
- **ä¸­å›½æ³•å®šèŠ‚å‡æ—¥**: 2026å¹´æ‰€æœ‰æ³•å®šå‡æœŸ
- **å†œå†ä¼ ç»ŸèŠ‚æ—¥**: æ˜¥èŠ‚ã€ç«¯åˆã€ä¸­ç§‹ç­‰
- **äºŒåå››èŠ‚æ°”**: å®Œæ•´çš„èŠ‚æ°”æ—¥å†
- **å›½é™…èŠ‚æ—¥**: æƒ…äººèŠ‚ã€åœ£è¯èŠ‚ç­‰

### æé†’æ—¥å†
- **é‡è¦æ—¥æœŸå€’è®¡æ—¶**: é«˜è€ƒã€è€ƒç ”ç­‰é‡è¦æ—¥æœŸ
- **æ¯å‘¨æé†’**: å‘¨ä¸€åˆ°å‘¨æ—¥çš„åŠ±å¿—æé†’
- **å¥åº·æé†’**: æ¯æ—¥å¥åº·å°è´´å£«
- **è´¢åŠ¡æ—¥å†**: å·¥èµ„æ—¥ã€çº³ç¨æˆªæ­¢æ—¥ã€è´­ç‰©èŠ‚

## ğŸ› ï¸ å¼€å‘

### æ·»åŠ æ–°åŸå¸‚

ç¼–è¾‘ `config/cities.py`ï¼š

```python
CITIES = {
    'NewCity': {
        'lat': 30.0000,
        'lon': 120.0000,
        'name': 'æ–°åŸå¸‚'
    },
}
```

### æ·»åŠ æ–°èŠ‚æ—¥

ç¼–è¾‘ `config/holidays.py`ï¼š

```python
NEW_HOLIDAYS = [
    ('èŠ‚æ—¥åç§°', '2026-01-01', 'èŠ‚æ—¥æè¿°'),
]
```

### åˆ›å»ºæ–°çš„ç”Ÿæˆå™¨

ç»§æ‰¿ `BaseCalendarGenerator` ç±»ï¼š

```python
from utils import BaseCalendarGenerator

class MyGenerator(BaseCalendarGenerator):
    def __init__(self):
        super().__init__('æˆ‘çš„æ—¥å†')
    
    def generate(self):
        self.add_event(
            summary='äº‹ä»¶æ ‡é¢˜',
            start_date='2026-01-01',
            description='äº‹ä»¶æè¿°'
        )
        self.save('my_calendar.ics')
```

## ğŸ“¦ æ¨¡å—è¯´æ˜

### config æ¨¡å—
- `cities.py`: åŸå¸‚åæ ‡å’Œé…ç½®
- `holidays.py`: æ‰€æœ‰èŠ‚æ—¥æ•°æ®
- `settings.py`: å…¨å±€è®¾ç½®ï¼ˆAPIåœ°å€ã€æ—¶åŒºç­‰ï¼‰

### generators æ¨¡å—
- `weather.py`: å¤©æ°”é¢„æŠ¥ç”Ÿæˆå™¨
- `holidays.py`: èŠ‚æ—¥æ—¥å†ç”Ÿæˆå™¨
- `reminders.py`: æé†’æ—¥å†ç”Ÿæˆå™¨

### utils æ¨¡å—
- `calendar_helper.py`: åŸºç¡€ç”Ÿæˆå™¨ç±»å’Œå·¥å…·å‡½æ•°

## ğŸ”§ æŠ€æœ¯æ ˆ

- **Python 3.x**
- **FastAPI**: Webæ¡†æ¶
- **icalendar**: ICSæ–‡ä»¶ç”Ÿæˆ
- **requests**: APIè¯·æ±‚
- **open-meteo**: å¤©æ°”æ•°æ®API

## ğŸ“ ä»£ç ä¼˜åŒ–

ç›¸æ¯”åŸå§‹å•æ–‡ä»¶ç‰ˆæœ¬ï¼Œé‡æ„åçš„ä»£ç å…·æœ‰ï¼š

1. **æ›´å¥½çš„æ¨¡å—åŒ–**: åŠŸèƒ½æŒ‰æ¨¡å—æ¸…æ™°åˆ†ç¦»
2. **æ›´æ˜“ç»´æŠ¤**: é…ç½®ä¸ä»£ç åˆ†ç¦»
3. **æ›´å¼ºçš„å¯æ‰©å±•æ€§**: åŸºäºç±»ç»§æ‰¿çš„ç”Ÿæˆå™¨æ¶æ„
4. **å‘½ä»¤è¡Œæ”¯æŒ**: çµæ´»çš„å‚æ•°æ§åˆ¶
5. **ä»£ç å¤ç”¨**: å‡å°‘é‡å¤ä»£ç 

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
